<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daniel Azran</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #6366f1;
      --secondary: #8b5cf6;
      --accent: #ec4899;
      --dark: #0f172a;
      --light: #f1f5f9;
      --gradient: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      background: var(--dark);
      color: var(--light);
      overflow-x: hidden;
      cursor: none; /* hide system cursor globally */
    }

    /* also hide system cursor on elements that force their own cursor */
    a, button, input, textarea, select, label, [role="button"],
    .project-card, .skill-item, .tech-tag, .magnetic-btn {
      cursor: none !important;
    }

    /* Custom Cursor */
    .cursor {
      width: 10px;
      height: 10px;
      background: #ff6b35;
      border-radius: 50%;
      position: fixed;
      pointer-events: none;
      z-index: 10000;
      transition: transform 0.2s, background 0.3s;
      transform: translate(-50%, -50%);
      left: 50vw; /* visible before first mousemove */
      top: 50vh;
    }
    .cursor.hover {
      transform: translate(-50%, -50%) scale(2);
      background: linear-gradient(45deg, #ff6b35, #f7931e, #fdc830);
      animation: colorShift 1s ease infinite;
    }
    @keyframes colorShift {
      0%, 100% { filter: hue-rotate(0deg); }
      50% { filter: hue-rotate(30deg); }
    }

    /* Trail dots */
    .trail-dot {
      position: fixed;
      width: 8px;
      height: 8px;
      background: radial-gradient(circle, rgba(255, 248, 220, 0.8), rgba(255, 215, 0, 0.4));
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
    }

    /* Particle Canvas */
    #particles {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
    }

    /* Navigation */
    nav {
      position: fixed;
      top: 0; width: 100%;
      padding: 2rem 4rem;
      z-index: 1000;
      backdrop-filter: blur(10px);
      background: rgba(15, 23, 42, 0.8);
      transition: transform 0.3s;
    }
    nav.hidden { transform: translateY(-100%); }

    .nav-container {
      display: flex; justify-content: space-between; align-items: center;
      max-width: 1400px; margin: 0 auto;
    }
    .logo {
      font-size: 1.5rem; font-weight: bold;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-shift 3s ease infinite;
    }
    @keyframes gradient-shift { 0%, 100% { filter: hue-rotate(0deg); } 50% { filter: hue-rotate(30deg); } }

    .nav-links { display: flex; gap: 2rem; list-style: none; }
    .nav-links a {
      color: var(--light); text-decoration: none; position: relative;
      transition: color 0.3s; padding: 0.5rem 1rem;
    }
    .nav-links a::before {
      content: '';
      position: absolute; bottom: 0; left: 50%;
      width: 0; height: 2px; background: var(--gradient);
      transition: width 0.3s, left 0.3s;
    }
    .nav-links a:hover::before { width: 100%; left: 0; }

    /* Hero Section */
    .hero {
      min-height: 100vh; display: flex; align-items: center; justify-content: center;
      position: relative; padding: 2rem;
    }
    .hero-content { text-align: center; z-index: 2; animation: fadeInUp 1s ease; }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .glitch-text {
      font-size: clamp(3rem, 10vw, 6rem); font-weight: bold; position: relative;
      text-transform: uppercase; letter-spacing: 0.05em;
    }
    .glitch-text::before, .glitch-text::after {
      content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    }
    .glitch-text::before { animation: glitch-1 0.5s infinite; color: var(--primary); z-index: -1; }
    .glitch-text::after  { animation: glitch-2 0.5s infinite; color: var(--accent); z-index: -2; }
    @keyframes glitch-1 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(20% 0 60% 0); transform: translate(-2px, 2px); }
      40% { clip-path: inset(40% 0 40% 0); transform: translate(2px, -2px); }
      60% { clip-path: inset(60% 0 20% 0); transform: translate(-2px, -2px); }
      80% { clip-path: inset(80% 0 0 0); transform: translate(2px, 2px); }
    }
    @keyframes glitch-2 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(80% 0 0 0); transform: translate(2px, -2px); }
      40% { clip-path: inset(60% 0 20% 0); transform: translate(-2px, 2px); }
      60% { clip-path: inset(40% 0 40% 0); transform: translate(2px, 2px); }
      80% { clip-path: inset(20% 0 60% 0); transform: translate(-2px, -2px); }
    }

    .subtitle {
      font-size: 1.5rem; margin: 2rem 0; opacity: 0.8; animation: fadeIn 1s ease 0.5s both;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 0.8; } }

    .typewriter {
      font-family: monospace; overflow: hidden; border-right: 3px solid var(--primary);
      white-space: nowrap; margin: 0 auto;
      animation: typing 3s steps(30, end), blink 0.75s step-end infinite;
    }
    @keyframes typing { from { width: 0; } to { width: 100%; } }
    @keyframes blink { from, to { border-color: transparent; } 50% { border-color: var(--primary); } }

    /* Magnetic Buttons */
    .magnetic-btn {
      display: inline-block; padding: 1rem 2rem; margin: 1rem;
      background: var(--gradient); color: white; text-decoration: none;
      border-radius: 50px; position: relative; overflow: hidden;
      transition: transform 0.3s; animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
      50% { box-shadow: 0 0 0 20px rgba(99, 102, 241, 0); }
    }
    .magnetic-btn::before {
      content: ''; position: absolute; top: 50%; left: 50%;
      width: 0; height: 0; background: rgba(255, 255, 255, 0.3); border-radius: 50%;
      transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s;
    }
    .magnetic-btn:hover::before { width: 300px; height: 300px; }

    /* Sections Layout */
    .section-title {
      font-size: 3rem; text-align: center; margin-bottom: 3rem;
      background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* Experience (vertical timeline) */
    .experience {
      padding: 4rem 2rem;
      max-width: 1100px;
      margin: 0 auto;
    }
    .timeline {
      border-left: 2px solid rgba(99,102,241,0.3);
      padding-left: 2rem;
      position: relative;
    }
    .tl-item {
      position: relative;
      margin: 2rem 0;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .tl-item.in-view {
      opacity: 1;
      transform: translateY(0);
    }
    .tl-item::before {
      content: '';
      position: absolute;
      left: -11px;
      top: 0.7rem;
      width: 12px; height: 12px;
      background: var(--gradient);
      border-radius: 50%;
      box-shadow: 0 0 0 6px rgba(99,102,241,0.15);
    }
    .tl-card {
      background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(139,92,246,0.1));
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 1.25rem 1.25rem 1rem;
      backdrop-filter: blur(10px);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .tl-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 32px rgba(99,102,241,0.25);
    }
    .tl-header {
      display: flex; justify-content: space-between; align-items: baseline; gap: 1rem;
      margin-bottom: 0.5rem;
    }
    .tl-role { font-size: 1.15rem; font-weight: 700; }
    .tl-where { opacity: 0.85; }
    .tl-dates {
      font-size: 0.95rem;
      opacity: 0.75;
      white-space: nowrap;
    }
    .tl-points {
      margin-top: 0.5rem;
      padding-left: 1.1rem;
      line-height: 1.6;
      opacity: 0.9;
    }

    /* Projects */
    .projects { padding: 4rem 2rem; max-width: 1400px; margin: 0 auto; }
    .project-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;
    }
    .project-card {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
      border-radius: 20px; padding: 2rem; position: relative; overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s; backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .project-card::before {
      content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: rotate(45deg); transition: all 0.5s; opacity: 0;
    }
    .project-card:hover::before { animation: shine 0.5s ease-in-out; }
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
    }
    .project-card:hover { transform: translateY(-10px) rotateX(5deg); box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3); }
    .project-icon { font-size: 3rem; margin-bottom: 1rem; animation: float 3s ease-in-out infinite; }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    .tech-stack { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem; }
    .tech-tag {
      padding: 0.25rem 0.75rem; background: rgba(99, 102, 241, 0.2);
      border-radius: 15px; font-size: 0.875rem; border: 1px solid var(--primary); transition: all 0.3s;
    }
    .tech-tag:hover { background: var(--primary); transform: scale(1.1); }

    /* Skills */
    .skills { padding: 4rem 2rem; background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(236, 72, 153, 0.05)); }
    .skill-container {
      max-width: 1000px; margin: 0 auto; display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 2rem;
    }
    .skill-item {
      text-align: center; padding: 1.5rem; background: rgba(255, 255, 255, 0.05);
      border-radius: 15px; transition: all 0.3s; position: relative; overflow: hidden;
    }
    .skill-item::after {
      content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px;
      background: var(--gradient); transform: scaleX(0); transition: transform 0.3s;
    }
    .skill-item:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.1); }
    .skill-item:hover::after { transform: scaleX(1); }
    .skill-icon { font-size: 2.5rem; margin-bottom: 0.5rem; filter: grayscale(100%); transition: filter 0.3s; }
    .skill-item:hover .skill-icon { filter: grayscale(0%); animation: bounce 0.5s; }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

    /* Contact */
    .contact { padding: 4rem 2rem; text-align: center; }
    .contact-form { max-width: 600px; margin: 0 auto; }
    .form-group { margin-bottom: 1.5rem; position: relative; }
    .form-input {
      width: 100%; padding: 1rem; background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(99, 102, 241, 0.3); border-radius: 10px; color: var(--light);
      font-size: 1rem; transition: all 0.3s;
    }
    .form-input:focus {
      outline: none; border-color: var(--primary); background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px); box-shadow: 0 10px 20px rgba(99, 102, 241, 0.2);
    }
    .form-label {
      position: absolute; left: 1rem; top: 1rem; color: rgba(255, 255, 255, 0.5);
      transition: all 0.3s; pointer-events: none;
    }
    .form-input:focus + .form-label,
    .form-input:not(:placeholder-shown) + .form-label {
      top: -0.5rem; left: 0.5rem; font-size: 0.875rem; color: var(--primary);
      background: var(--dark); padding: 0 0.5rem;
    }

    /* Scroll Indicator */
    .scroll-indicator { position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%); animation: scroll-bounce 2s infinite; }
    @keyframes scroll-bounce { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(10px); } }
    .scroll-line { width: 30px; height: 50px; border: 2px solid var(--primary); border-radius: 15px; position: relative; }
    .scroll-line::before {
      content: ''; position: absolute; top: 10px; left: 50%; width: 3px; height: 10px; background: var(--primary);
      border-radius: 2px; transform: translateX(-50%); animation: scroll-wheel 2s infinite;
    }
    @keyframes scroll-wheel { 0% { top: 10px; opacity: 1; } 100% { top: 30px; opacity: 0; } }

    /* Responsive */
    @media (max-width: 768px) {
      nav { padding: 1rem 2rem; }
      .nav-links { display: none; }
      .glitch-text { font-size: 2.5rem; }
      .project-grid { grid-template-columns: 1fr; }
      .tl-header { flex-direction: column; align-items: flex-start; gap: 0.2rem; }
    }
  </style>
</head>
<body>
  <!-- Custom Cursor -->
  <div class="cursor"></div>

  <!-- Particle Background -->
  <canvas id="particles"></canvas>

  <!-- Navigation -->
  <nav id="navbar">
    <div class="nav-container">
      <div class="logo">Daniel Azran</div>
      <ul class="nav-links">
        <li><a href="#home"       class="smooth-scroll">Home</a></li>
        <li><a href="#experience" class="smooth-scroll">Experience</a></li>
        <li><a href="#projects"   class="smooth-scroll">Projects</a></li>
        <li><a href="#skills"     class="smooth-scroll">Skills</a></li>
        <li><a href="#contact"    class="smooth-scroll">Contact</a></li>
        <li><a href="https://github.com/Danzran" target="_blank">GitHub</a></li>
        <li><a href="https://linkedin.com/in/danielazran" target="_blank">LinkedIn</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="hero-content">
      <h1 class="glitch-text" data-text="DANIEL AZRAN">DANIEL AZRAN</h1>
      <p class="subtitle typewriter">University of Central Florida - B.S. in Computer Science</p>
      <div style="margin-top: 3rem;">
        <a href="#projects" class="magnetic-btn smooth-scroll">View Projects</a>
        <a href="#contact"  class="magnetic-btn smooth-scroll">Get In Touch</a>
      </div>
    </div>
    <div class="scroll-indicator">
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- Experience Section -->
  <section class="experience" id="experience">
    <h2 class="section-title">Experience</h2>
    <div class="timeline">
      <!-- Extropian -->
      <div class="tl-item">
        <div class="tl-card">
          <div class="tl-header">
            <div>
              <div class="tl-role">Backend Software Developer</div>
              <div class="tl-where">Extropian · Orlando, FL</div>
            </div>
            <div class="tl-dates">Sep 2024 – May 2025</div>
          </div>
          <ul class="tl-points">
            <li>Built a cross-platform Flutter app for real-time golf swing analysis using Dart & Firebase.</li>
            <li>Led Bluetooth streaming + metric calc layer; cut packet loss from tens to single digits per session.</li>
            <li>Collaborated in a 6-member Agile team with Git & Jira.</li>
          </ul>
        </div>
      </div>

      <!-- Systems Assembler & IT Technician -->
      <div class="tl-item">
        <div class="tl-card">
          <div class="tl-header">
            <div>
              <div class="tl-role">Systems Assembler & IT Technician</div>
              <div class="tl-where">Freelance · Multiple Locations</div>
            </div>
            <div class="tl-dates">Sep 2018 – Present</div>
          </div>
          <ul class="tl-points">
            <li>Designed & assembled custom desktops for gaming, editing, and servers.</li>
            <li>Set up small-business networks with VMs; improved efficiency and resource management.</li>
            <li>Diagnosed hardware/software issues; delivered stable optimized builds.</li>
          </ul>
        </div>
      </div>

      <!-- Sonic Locksmith -->
      <div class="tl-item">
        <div class="tl-card">
          <div class="tl-header">
            <div>
              <div class="tl-role">Lockout Technician</div>
              <div class="tl-where">Sonic Locksmith · Hollywood, FL</div>
            </div>
            <div class="tl-dates">Aug 2022 – Dec 2023</div>
          </div>
          <ul class="tl-points">
            <li>Programmed/cut keys for push-to-start & traditional vehicles.</li>
            <li>Resolved on-site lockouts under time pressure with clear client comms.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section class="projects" id="projects">
    <h2 class="section-title">Featured Projects</h2>
    <div class="project-grid">
      <div class="project-card">
        <div class="project-icon">⛳</div>
        <h3>Golf Swing Analyzer Mobile App</h3>
        <p>Cross-platform Flutter app analyzing golf swing metrics in real-time with wearable sensor data. Reduced packet loss from tens to single digits per session.</p>
        <div class="tech-stack">
          <span class="tech-tag">Flutter</span>
          <span class="tech-tag">Dart</span>
          <span class="tech-tag">Firebase</span>
          <span class="tech-tag">Bluetooth</span>
        </div>
      </div>
      <div class="project-card">
        <div class="project-icon">👁️</div>
        <h3>Real-Time Optical Flow Tracker</h3>
        <p>Built 30+ FPS Lucas-Kanade tracker with Shi-Tomasi corner detection. Implemented forward-backward error checks and dense optical flow visualization.</p>
        <div class="tech-stack">
          <span class="tech-tag">Python</span>
          <span class="tech-tag">OpenCV</span>
          <span class="tech-tag">Computer Vision</span>
        </div>
      </div>
      <div class="project-card">
        <div class="project-icon">🏠</div>
        <h3>Real Estate Price Predictor</h3>
        <p>ML model comparing Linear Regression, KNN, Random Forest, and AdaBoost. Achieved 7% RMSE reduction through hyperparameter tuning and log-price regression.</p>
        <div class="tech-stack">
          <span class="tech-tag">Python</span>
          <span class="tech-tag">R</span>
          <span class="tech-tag">Machine Learning</span>
          <span class="tech-tag">Jupyter</span>
        </div>
      </div>
      <div class="project-card">
        <div class="project-icon">✍️</div>
        <h3>Handwritten Digit Classifier</h3>
        <p>CNN using TensorFlow/Keras achieving 98% accuracy on MNIST dataset. Implemented multi-layer neural network with preprocessing pipeline.</p>
        <div class="tech-stack">
          <span class="tech-tag">TensorFlow</span>
          <span class="tech-tag">Keras</span>
          <span class="tech-tag">Deep Learning</span>
          <span class="tech-tag">Python</span>
        </div>
      </div>
      <div class="project-card">
        <div class="project-icon">💻</div>
        <h3>Custom System Architecture</h3>
        <p>Designed and assembled custom desktop systems for various workloads. Set up small business networks with VMs and optimized resource management.</p>
        <div class="tech-stack">
          <span class="tech-tag">Hardware</span>
          <span class="tech-tag">Networking</span>
          <span class="tech-tag">VirtualBox</span>
          <span class="tech-tag">IT Support</span>
        </div>
      </div>
      <div class="project-card">
        <div class="project-icon">🚀</div>
        <h3>More Projects</h3>
        <p>Check out my GitHub for more projects in areas like robotics, AI, and full-stack development. Always building something new!</p>
        <div class="tech-stack">
          <span class="tech-tag">View GitHub</span>
          <span class="tech-tag">Danzran</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <section class="skills" id="skills">
    <h2 class="section-title">Tech Stack</h2>
    <div class="skill-container">
      <div class="skill-item"><div class="skill-icon">☕</div><div>Java</div></div>
      <div class="skill-item"><div class="skill-icon">🎯</div><div>Dart</div></div>
      <div class="skill-item"><div class="skill-icon">🐍</div><div>Python</div></div>
      <div class="skill-item"><div class="skill-icon">🦀</div><div>Rust</div></div>
      <div class="skill-item"><div class="skill-icon">🟨</div><div>JavaScript</div></div>
      <div class="skill-item"><div class="skill-icon">⚛️</div><div>React</div></div>
      <div class="skill-item"><div class="skill-icon">📱</div><div>Flutter</div></div>
      <div class="skill-item"><div class="skill-icon">🔥</div><div>Firebase</div></div>
      <div class="skill-item"><div class="skill-icon">☁️</div><div>AWS</div></div>
      <div class="skill-item"><div class="skill-icon">🍃</div><div>MongoDB</div></div>
      <div class="skill-item"><div class="skill-icon">🎯</div><div>C/C++</div></div>
      <div class="skill-item"><div class="skill-icon">📊</div><div>R</div></div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact" id="contact">
    <h2 class="section-title">Let's Connect</h2>
    <form class="contact-form">
      <div class="form-group">
        <input type="text" class="form-input" placeholder=" " required>
        <label class="form-label">Your Name</label>
      </div>
      <div class="form-group">
        <input type="email" class="form-input" placeholder=" " required>
        <label class="form-label">Your Email</label>
      </div>
      <div class="form-group">
        <input type="text" class="form-input" placeholder=" " required>
        <label class="form-label">Subject</label>
      </div>
      <div class="form-group">
        <textarea class="form-input" rows="5" placeholder=" " required></textarea>
        <label class="form-label">Message</label>
      </div>
      <button type="submit" class="magnetic-btn">Send Message</button>
    </form>
  </section>

  <script>
    // -------- custom cursor --------
    const cursor = document.querySelector('.cursor');
    let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2;
    let cursorX = mouseX, cursorY = mouseY;

    // immediate update + capture
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      cursor.style.left = mouseX + 'px';
      cursor.style.top  = mouseY + 'px';
    });

    function animateCursor() {
      cursorX += (mouseX - cursorX) * 0.9;
      cursorY += (mouseY - cursorY) * 0.9;
      cursor.style.left = cursorX + 'px';
      cursor.style.top  = cursorY + 'px';
      requestAnimationFrame(animateCursor);
    }
    animateCursor();

    // hover state for interactive bits
    const hoverElements = document.querySelectorAll('a, button, .project-card, .skill-item, .tech-tag, .magnetic-btn, input, textarea');
    hoverElements.forEach(el => {
      el.addEventListener('mouseenter', () => cursor.classList.add('hover'));
      el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
    });

    // -------- cursor trail --------
    const trail = [];
    const trailLength = 20;
    for (let i = 0; i < trailLength; i++) {
      const dot = document.createElement('div');
      dot.className = 'trail-dot';
      document.body.appendChild(dot);
      trail.push({ element: dot, x: cursorX, y: cursorY });
    }

    const mousePositions = [];
    document.addEventListener('mousemove', (e) => {
      mousePositions.push({ x: e.clientX, y: e.clientY });
      if (mousePositions.length > trailLength) mousePositions.shift();
    });

    function animateTrail() {
      for (let i = 0; i < trail.length; i++) {
        const pos = mousePositions[mousePositions.length - 1 - i];
        if (!pos) continue;
        const t = trail[i];
        t.x += (pos.x - t.x) * 0.35;
        t.y += (pos.y - t.y) * 0.35;
        t.element.style.left = (t.x - 3) + 'px';
        t.element.style.top  = (t.y - 3) + 'px';
        t.element.style.opacity = (1 - i / trailLength) * 0.5;
        t.element.style.transform = `scale(${1 - i / trailLength})`;
        const hue = (Date.now() / 20 - i * 5) % 360;
        t.element.style.background = `hsl(${hue}, 70%, 50%)`;
      }
      requestAnimationFrame(animateTrail);
    }
    animateTrail();

    // -------- particle background --------
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    function sizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    sizeCanvas();

    const particles = [];
    const particleCount = 100;

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 3 - 1.5;
        this.speedY = Math.random() * 3 - 1.5;
        this.color = `hsl(${Math.random() * 60 + 200}, 70%, 50%)`;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        if (this.x > canvas.width) this.x = 0;
        if (this.x < 0) this.x = canvas.width;
        if (this.y > canvas.height) this.y = 0;
        if (this.y < 0) this.y = canvas.height;

        // repel near cursor
        const dx = mouseX - this.x;
        const dy = mouseY - this.y;
        const distance = Math.hypot(dx, dy);
        if (distance < 100) {
          const fx = dx / distance;
          const fy = dy / distance;
          const force = (100 - distance) / 100;
          this.x -= fx * force * 2;
          this.y -= fy * force * 2;
        }
      }
      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    for (let i = 0; i < particleCount; i++) particles.push(new Particle());

    function connectParticles() {
      for (let a = 0; a < particles.length; a++) {
        for (let b = a + 1; b < particles.length; b++) {
          const dx = particles[a].x - particles[b].x;
          const dy = particles[a].y - particles[b].y;
          const distance = Math.hypot(dx, dy);
          if (distance < 100) {
            ctx.strokeStyle = `rgba(99,102,241, ${1 - distance / 100})`;
            ctx.lineWidth = 0.5;
            ctx.beginPath();
            ctx.moveTo(particles[a].x, particles[a].y);
            ctx.lineTo(particles[b].x, particles[b].y);
            ctx.stroke();
          }
        }
      }
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => { p.update(); p.draw(); });
      connectParticles();
      requestAnimationFrame(animateParticles);
    }
    animateParticles();

    window.addEventListener('resize', sizeCanvas);

    // -------- magnetic buttons --------
    const magneticBtns = document.querySelectorAll('.magnetic-btn');
    magneticBtns.forEach(btn => {
      btn.addEventListener('mousemove', (e) => {
        const rect = btn.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top  - rect.height / 2;
        btn.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
      });
      btn.addEventListener('mouseleave', () => {
        btn.style.transform = 'translate(0, 0)';
      });
    });

    // -------- reveal timeline on scroll --------
    const tlItems = document.querySelectorAll('.tl-item');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) e.target.classList.add('in-view');
      });
    }, { threshold: 0.15 });
    tlItems.forEach(el => io.observe(el));

    // -------- smooth scrolling animation --------
    function smoothScrollTo(target, offset = 0) {
      const start = window.scrollY;
      const end = target.getBoundingClientRect().top + window.scrollY - offset;
      const duration = 420; // Make smaller for snappier transition
      const startTime = performance.now();

    
      function easeInOutCubic(t) {
        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
      }

      function step(now) {
        const elapsed = now - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const eased = easeInOutCubic(progress);
        window.scrollTo(0, start + (end - start) * eased);
        if (progress < 1) requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    const navbar = document.getElementById('navbar');

    document.querySelectorAll('a.smooth-scroll[href^="#"]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const id = link.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (!target) return;
        const navHeight = navbar.getBoundingClientRect().height;
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) {
          window.scrollTo(0, target.getBoundingClientRect().top + window.scrollY - navHeight);
        } else {
          smoothScrollTo(target, navHeight + 10);
        }
      });
    });
  </script>
</body>
</html>
